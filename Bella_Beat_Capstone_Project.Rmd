---
title: "BellaBeat Capstone Project"
author: "Ayush Ram"
date: "2025-11-17"
output:
  html_document: default
  toc: true
  toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Introduction


This R Markdown document presents the Bellabeat data analysis case study through the Google Data Analysis Course. In this document, we will explore the business task that is proposed by Bellabeat, a high-tech manufacturer of health products for women. Bellabeats aims to increase their global presence in the smart device market by understanding user behaviour that can guide product strategies and marketing decisions. 



Urška Sršen, cofounder and Chief Creative Officer of Bellabeat, believes that by analysing existing competitor data (Fitbit) and comparing it to Bellabeat's Time Product (a wellness watch that tracks users' activity, sleep, and stress), we can apply existing trends to the device, benefiting both Bellabeat and helping support their customers better. 

### Business Task
Sršen has requested an analysis of smart device usage to gain insight into how customers use non-Bellabeat smart devices. 

1. What are some trends in smart device usage?
2. How could these trends apply to Bellabeat customers?
3. How could these trends help influence Bellabeat's marketing strategy?

### Source
The public dataset was provided by Sršen, [FitBit Fitness Tracker Data](https://www.kaggle.com/datasets/arashnic/fitbit). This dataset is the raw, unedited Kaggle dataset containing usage data from thirty Fitbit users. 

This document will focus mainly on:

+ `dailyActivity_merged`

* `sleepDay_merged`

- `dailySteps_merged` 

- `weightLogInfo_merged`


### Data Limitations
The data itself is presented with a few limitations that are noteworthy.
There are only 30 Fitbit users, which is a relatively small sample. The data itself does not represent Bellabeats users; this data is only an implication of what can be applied to them. Some data is self-reported, such as Weight, which can lead to inconsistencies or incorrect inputs. Missing some potential information, such as gender and age, which could have provided more insight. No context of what people do in bed before they are asleep. 


### Cleaning
For the Cleaning of the Data, Google Sheets was used before exporting the data into R Studio, as the data was not too large and the process would be quick and fast, leading to a faster response time to the Stakeholders' Business Task.

The following is a breakdown of key cleaning that was conducted on Google Sheets.

* Standardised date format from `MM/DD/YYYY` to `YYYY/MM/DD`, allowing data to be consistent and universally readable.

* Applied filter to `sleepDay_merged` Column D, Sort A-Z, applied syntax in column G `=IF(COUNTIFS(D:D, D2, E:E, E2) > 1, "Duplicate", "Unique")`. Showing duplicates, Applied Data cleanup to remove the duplicates. 3 data entries removed from `sleepDay_merged`. Other data entries returned results of no duplicates.

* Applied conditional formatting to see if any empty cells, removed Column `Fat` from `weightLogInfo_merged`, as there were only 2 completed entries.

* Removed non-representative days in `dailySteps_merged` where `StepTotal` < 50 steps, as these days were days of inactivity of the Fitbit by users.

* Applied `=IF(SUM(C2:M2)=0, "Non-Wear", "Valid")` to `DailyActivity_merged` to determine exactly which days had no activity on the Fitbit, applied a filter to show `Non-Wear` days, and removed all those days. 

* Verified column names and formats to ensure a seamless import into R. 

* Clean Data was then uploaded to R Studio with the same titles, and the inclusion of "Cleaned" was added to each file.

```{r Install.packages}

```

### Download Packages

install.packages("readr")

install.packages("dplyr")

install.packages("ggplot2")

install.packages("tidyr")

### Loading Packages
Loading the necessary packages
```{r Load Library}
library(readr)
library(dplyr)
library(ggplot2)
library(tidyr)
```

### Loading Datasets
Renaming clean data to friendly, readable names.
```{r Loading DataSets}
Activity <- read.csv("Fitabase_Data_cleaned/dailyActivity_merged_cleaned.csv")
Sleep <- read.csv("Fitabase_Data_cleaned/sleepDay_merged_cleaned.csv")
Steps <- read.csv("Fitabase_Data_cleaned/dailySteps_merged_cleaned.csv")
Weight <- read.csv("Fitabase_Data_cleaned/weightLogInfo_merged_cleaned.csv")
```
CSV files can be found in attachment files.
All data can be found in "Fitabase_Data_cleaned" in folder.



#### Review data with head()
Showing the first few rows of the datasets.
```{r head()}

head(Activity)
head(Sleep)
head(Steps)
head(Weight)
```
#### Checking for any duplicates in datasets
```{r sum()}

sum(duplicated(Sleep))
sum(duplicated(Activity))
sum(duplicated(Steps))
sum(duplicated(Weight))

```
no duplicates found, data was cleaned prior.


#### Check for missing values in each dataset
```{r colsums(is.na())}
colSums(is.na(Activity))
colSums(is.na(Sleep))
colSums(is.na(Steps))
colSums(is.na(Weight))
```
Activity <- Activity %>% select(-X.1)

removed extra column "X.1 which was an empty placeholder from CSV export.


#### Inspecting how many unique ID are in the dataset
```{r distinct}
n_distinct(Activity$Id)
n_distinct(Steps$Id)
n_distinct(Sleep$Id)
n_distinct(Weight$Id)
```
As shown, both Steps and Activity have the same number of distinct ID, due 
to them using the same data pool. Verify this, as both have ID 1624580081
Total steps: 36019 on 2016-05-01. Other datasets have smaller sets as fewer people
 recorded their data for themselves.
 
 
## Analysis of Data

#### Summary of all data to note down key information

##### Activity
```{r Activity Sum}
Activity %>%
  select(TotalSteps, TotalDistance, ModeratelyActiveDistance, VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes, SedentaryMinutes, Calories) %>%
  summary()
```
This dataset will focus on the activity levels of the Fitbit users. The data shows that users spend significantly more time in a sedentary state in comparison to the other activity levels. SedentaryMinutes has the largest Mean and Max values, indicating that most users are in states of inactivity for large periods. There is a large variance between steps, indicating that there is a lot of diversity in people's exercise habits. 


##### Sleep
```{r Sleep Sum}
Sleep %>%
  select(TotalMinutesAsleep, TotalTimeInBed) %>%
  summary()
```
This data shows that most people do spend time in bed before they go to sleep, the Mean value difference being 39.3 minutes. Meaning people are awake in bed for a period of time before falling asleep. There is not enough information provided to know what they are doing during this time.


##### Weight
```{r Weight Sum}
Weight %>%
  select(WeightKg, BMI) %>%
  summary()
```
Information in the dataset is fairly self-explanatory. This shows the Weight (kg) and 
BMI of users who logged this information.  The “Fat” column was removed, as it had 
too many missing values to be meaningful.

Dataset Steps was not included, as it was already in Activity Summary.

### Visualisation of Activity, Sleep and Weight
```{r Activity Point}
ggplot(data= Activity) + 
  geom_point(mapping = aes(x= TotalSteps, y = Calories), alpha= 0.6)+
  geom_smooth(aes(x = TotalSteps, y = Calories))+
  labs(
    title = "Total Steps Vs Calories Burned",
    subtitle = "With Trend Line",
    x = "Total Steps",
    y = "Calories Burned"
  )
```
This visualisation shows the relation between the TotalSteps and Calories burned in the dataset activity.
There is a clear positive correlation, so it can be observed, those who have a
higher total step count will see their expenditure of calories increase. But a very high step count shows diminishing returns as calorie burned begins to slow down. The slight curvature in the line further highlights this.



```{r Activity boxplot}
ggplot(Activity, aes(y = VeryActiveMinutes)) +
  geom_boxplot(fill= "salmon") +
  labs(title = "Boxplot of Very Active Minutes Per Day",
        y= "Very Active Minutes")
```



This visualisation shows that most users spend relatively few minutes per day in highly active minutes; only a few users are highly active
past 100 minutes, and activity past ~180 minutes is not common.


```{r Activity Bar}
ggplot(Activity, aes (x = ActivityDate)) +
  geom_bar(aes(y= SedentaryMinutes, fill = "Sedentary"), stat = "identity") +
  geom_bar(aes(y= LightlyActiveMinutes, fill = "Light"), stat = "identity") +
  geom_bar(aes(y= FairlyActiveMinutes, fill = "Fair"), stat = "identity") +
  geom_bar(aes(y= VeryActiveMinutes, fill = "Very Active"), stat = "identity")+
  labs(
    title= "Minutes of Activity per Days",
    x= "Date",
    y= "Minutes"
  ) + 
  scale_fill_manual(values = c("Sedentary" = "lightblue", "Light" = "lightyellow", "Fair" = "lightgreen", "Very Active" = "#CC79A7"))+
  theme(axis.text.x= element_text(angle = 45, hjust= 1))
```

This shows the Minutes of Activity per day for the users; from this information, we can see that most of the users spend their time in a sedentary state, and while active, most users are in a light state of activity, followed by very active and finally fair activity. The reason that "Fair" is almost non-existent in the graph may be due to the way the types of data are considered. If we were to apply this to our Bellabeats product, we could note that most users like to be in a light state of activity, so reminders to simply get up and go for a walk instead of being in a sedentary state, or even a message that would show up when you are in a light state of activity or higher, stating that you are doing better than "X" amount of other users as motivation. 



```{r Asleep Plot}
ggplot(data= Sleep) +
  geom_point(mapping = aes(x= TotalTimeInBed, y= TotalMinutesAsleep), alpha= 0.6)+
  geom_smooth(aes(x= TotalTimeInBed, y= TotalMinutesAsleep))+
  labs(
    title=  "Total Minutes Asleep Vs Total Time In Bed",
    x= "Total Time In Bed",
    y= "Total Minutes Asleep"
  )
```

There is a positive correlation here between time spent in bed and time spent asleep. As expected,
Those who spend more time in bed tend to sleep for longer. However, Most users don't fall asleep immediately. Spending only roughly 80%-90% of the time asleep. Suggesting there is a gap between going to bed and actually being asleep. This can be due to winding down or having difficulty falling asleep.

```{r BMI Distrbution}
ggplot(Weight, aes(x = BMI)) +
  geom_histogram(binwidth = 1, fill = "lightblue", colour = "Black") + 
  labs(
    title= "Distribution of BMI Between Users",
    x= "BMI",
    y= "Count of Users"
  )

summary(Weight$BMI)
```

This graph shows the distribution of the BMI among the users. The spread here indicates that most users fall between 20 to 30, BMI verified by the summary below the table, which shows a Mean of 25.19 BMI. With anything in between 18.5 to 24.9 BMI being considered normal weight, whereas 25.0-29.9 BMI being overweight. There is a small population that falls in the overweight division, with the Max being 47.54 BMI.

### Comparing Datasets
#### Test correlation of Sleep Vs Weight
```{r Sleep Vs Weight}
Sleep_Weight <- merge(Sleep, Weight, by.x = c("Id", "SleepDay"), by.y = c("Id", "Date"))

cor(Sleep_Weight$TotalMinutesAsleep, Sleep_Weight$WeightKg, use = "complete.obs")
```
With a correlation of 0.033, there is little to no relationship between these two variables. There will be no further investigation of this. 

#### Test correlation of Steps Vs Sleep
```{r Steps vs Sleep}
Steps_Sleep <- merge(Steps, Sleep, by.x =c("Id", "ActivityDay"), by.y = c("Id", "SleepDay"))

cor(Steps_Sleep$StepTotal, Steps_Sleep$TotalMinutesAsleep, use = "complete.obs")
```
Cross-dataset relationship shows weak to no correlation, suggesting that user activity, sleep, and body weight are likely independent in the dataset. 

### Recommendations 
From the information we can infer from this document, there are a lot of trends in smart device usage for BellaBeats to stand out from Fitbit and the rest of the competition. 

* Encourage movement with motivating goals

Users who are moving more tend to burn more calories. BellaBeats can use this information and create in-app step goals, badges and rewards for activity across multiple days, such as an activity streak and milestones. Marketing campaigns can focus on the more movement, the more calories burned.

* Support low activity users with a gentle reminder

There are many users who stay in lower activity ranges (sedentary/low activity). The Time could introduce gentle reminders for less active users to encourage movement, and then give those who are doing better than others. A visual of the % of how well they are doing against the population to drive competition and growth.

  
* Improve sleep awareness and the collection of that data

Users often spend more time in bed than actually being asleep, so we could allow users to turn on a gentle notification system, when users are detected as being in bed and still being awake, also due to this category having lower information than the other datasets, we could offer in-app benefits for wearing the BellaBeats Time to sleep to gather more data about this and be ahead of the competition in terms of knowledge and user understanding.

* Provide personalised data based on BMI

BMI in users are shown to be diverse and vary. This could open the door for personalised recommendations for users. We can ask users to include their weight/ BMI and make custom steps, etc. This can help position BellaBeats as a personalised platform. 
  
* Avoid connections of meaningless datasets 

Marketing can avoid trying to merge the different categories of Sleep, Weight and Activity. Treat them as individual data as there has been shown to have little to no correlation. 

### Summary
As shown in the analysis, there are some clear trends in smart device usage. Users are more active when they move around more throughout the day. Most people remain in a sedentary state for long periods, and most people stay in bed longer than they are actually sleeping. That, along with BMI and weight, varies and needs personalisation for users. 


Together, there are many opportunities for BellaBeats to stand out from the rest. To look at this data and go for a personalised, gentle, one-on-one approach and focus on deep and meaningful motivation can help users feel valued and more engaged with the BellaBeat product. 